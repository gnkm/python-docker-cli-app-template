# 実装計画

- [ ] 1. プロジェクト構造とコア設定ファイルの作成
  - src/my_app/ディレクトリ構造を作成
  - pyproject.tomlでプロジェクトメタデータ、依存関係、CLIエントリーポイントを定義
  - _要件: 6.1, 6.3, 4.1_

- [ ] 2. 基本的なCLIアプリケーションの実装
  - [ ] 2.1 CLIモジュールの基本構造を作成
    - src/my_app/cli.pyでTyperアプリケーションを初期化
    - メインコールバック関数でアプリケーションの説明を定義
    - _要件: 4.1, 4.2_

  - [ ] 2.2 helloコマンドの実装
    - helloコマンド関数を実装して名前パラメータを受け取る
    - "hello ${name}"形式の出力を実装
    - 引数検証とエラーハンドリングを追加
    - _要件: 2.1, 2.2, 4.3_

  - [ ] 2.3 パッケージ初期化の実装
    - src/my_app/__init__.pyでCLIアプリケーションをエクスポート
    - バージョン情報を定義
    - _要件: 6.2_

- [ ] 3. Docker設定の実装
  - [ ] 3.1 Dockerfileの作成
    - 公式uvイメージをベースとして使用
    - 依存関係とプロジェクトの分離インストールを実装
    - uvのベストプラクティス（キャッシュ、バイトコードコンパイル）を適用
    - _要件: 5.1, 5.2, 3.3_

  - [ ] 3.2 Docker Compose設定の作成
    - compose.ymlでmy-appサービスを定義
    - 開発用のwatch設定を実装
    - _要件: 1.1, 2.1_

  - [ ] 3.3 Docker最適化ファイルの作成
    - .dockerignoreで.venvディレクトリを除外
    - ビルド効率化のための設定を追加
    - _要件: 5.4_

- [ ] 4. 依存関係管理の設定
  - [ ] 4.1 uvプロジェクトの初期化
    - uv initでプロジェクトを初期化（既存のpyproject.tomlを考慮）
    - Typer依存関係を追加
    - _要件: 3.1, 4.1_

  - [ ] 4.2 開発依存関係の追加
    - pytestをテスト用依存関係として追加
    - その他の開発ツールを設定
    - _要件: 6.4_

- [ ] 5. CLIアプリケーションのテスト実装
  - [ ] 5.1 基本的な単体テストの作成
    - helloコマンドの動作をテストする単体テストを作成
    - 引数検証のテストを実装
    - _要件: 2.1, 2.2, 2.3_

  - [ ] 5.2 統合テストの作成
    - typer.testing.CliRunnerを使用した統合テストを作成
    - ヘルプ表示のテストを実装
    - _要件: 1.1, 1.2, 1.3_

- [ ] 6. Docker環境での動作確認とテスト
  - [ ] 6.1 Dockerビルドの検証
    - docker buildコマンドでイメージが正常にビルドされることを確認
    - ビルドプロセスの最適化を検証
    - _要件: 3.2, 5.3_

  - [ ] 6.2 Docker Composeでの実行テスト
    - `docker compose run my-app`でヘルプが表示されることを確認
    - `docker compose run my-app hello test`で正しい出力が得られることを確認
    - _要件: 1.1, 2.1_

- [ ] 7. プロジェクトドキュメントの作成
  - [ ] 7.1 README.mdの作成
    - プロジェクトの概要と使用方法を記述
    - Docker Composeでの実行例を含める
    - 開発環境のセットアップ手順を記述
    - _要件: 1.1, 2.1_

  - [ ] 7.2 最終的な統合テストの実行
    - 全ての要件が満たされていることを確認
    - Docker環境での完全な動作テストを実行
    - _要件: 全要件_
